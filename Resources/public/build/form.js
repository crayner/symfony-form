(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Bcp6:function(e,t,n){},a7bf:function(e,t,n){},lDYW:function(e,t,n){},oYZW:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("i8i4"),l=(n("17x9"),n("CVof")),c=n.n(l);n("oarN");function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t in e){var r=e[t];for(var a in n)r=r.replace(a,n[a]+"");return r}return t}var u=n("2We3"),s=n("fZmu"),f=n("ecJ8"),m=n.n(f);function p(e){var t=e.message,n=e.translations,r=e.cancelMessage;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 alert alert-"+t.level,role:"alert"},m()(t.message),c.a.createElement("button",{className:"btn close",onClick:function(){r(t.id)},title:i(n,"message.close"),type:"button"},c.a.createElement(u.a,{icon:s.a}))))}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e){var t=e.messages,n=y(e,["messages"]);if(0===Object.keys(t).length)return"";var r=Object.keys(t).map(function(e){var r=t[e];return r.id=e,c.a.createElement(p,d({message:r,key:"message_"+r.id},n))});return c.a.createElement("section",null,r)}b.defaultProps={messages:{}};var v=n("GTV5"),h=(n("Bcp6"),n("IzWC")),g=(n("lDYW"),n("tCC2"));function O(e){var t=e.help;return!1===t||null===t||""===t?"":a.a.createElement(g.a,{className:"text-muted form-text small"},t)}O.defaultProps={help:""};var j=n("IP2g"),w=n("wHSu");function E(e){var t=e.errors;if(0===t.length)return"";var n=t.map(function(e,t){return a.a.createElement("li",{key:t},a.a.createElement(j.a,{icon:w.a})," ",e)});return a.a.createElement("small",{className:"text-danger form-text"},a.a.createElement("ul",{className:"list-unstyled"},n))}E.defaultProps={errors:[]};var _=n("7O5W"),k=n("2ScO"),P=n("8tEE"),S=n("twK/");n("a7bf");function B(e){var t=e.element,n=e.style,r=e.value,o=e.elementClick,l=r;"boolean"==typeof l&&(l=!0===l?"1":"0");var c="1"===l?t.button_class_on:t.button_class_off;c=(c+" "+t.div_class).trim();var i="1"===l?t.icon_class_on:t.icon_class_off;return(i=i.split(" "))[1]=i[1].replace("fa-",""),i[0]=i[0].replace("fa-",""),a.a.createElement(k.a,{controlId:t.id,className:t.errors.length>0?"has-danger":"",key:t.id+("1"===l?"_on":"_off")},a.a.createElement("div",{className:"toggle-label"},a.a.createElement("label",{className:"control-label",htmlFor:t.id},a.a.createElement("button",{type:"button",className:c,onClick:function(e){return o(e,t.id,"toggle")},value:l},a.a.createElement(j.a,{icon:i,fixedWidth:!0})),t.label)),"row"===n?a.a.createElement("span",null,a.a.createElement(E,{errors:t.errors}),a.a.createElement(O,{help:t.help})):"")}_.b.add(w.b,S.a,P.a);var x=n("SyXz");function H(e){var t=e.label;return!1===t?"":a.a.createElement("span",null,a.a.createElement(x.a,null,t),a.a.createElement(h.a.Feedback,null))}function C(e){var t=e.required;return""===t?a.a.createElement("span",null):a.a.createElement("span",{className:"field-required"},"Â ",t)}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t,n){return"object"!==I(t)&&(t={}),a.a.createElement(k.a,N({controlId:n.id,className:n.errors.length>0?"has-danger":""},t),e,a.a.createElement(H,{label:n.label}),a.a.createElement(C,{required:n.required}),a.a.createElement("br",null),a.a.createElement(E,{errors:n.errors}),a.a.createElement(O,{help:n.help}))}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){var t=e.element,n=e.elementChange,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){L(e,t,n[t])})}return e}({},t.value);r=Array.from(Object.keys(r),function(e){return r[e]}),t.value=r,t.data=r;var o="";return o="object"===M(t.choices)?Object.keys(t.choices).map(function(e){var r=t.choices[e],o=void 0!==r.attr.style?r.attr.style:{},l=void 0!==r.attr.class?r.attr.class+" form-check-input":"form-check-input",c=r.attr?r.attr:{};return t.value.includes(r.value)?c.checked=!0:c.checked=!1,a.a.createElement("div",{className:"form-check align-self-center "+("right"===t.justify?"form-check-right":"form-check-left"),key:t.id+"_"+e+(c.checked?"_ON":"_OFF")},a.a.createElement("label",{className:"form-check-label",htmlFor:t.id+"_"+e},"right"===t.justify?r.label:"",a.a.createElement("input",D({className:l,type:"checkbox",id:t.id+"_"+e,name:t.full_name+"["+e+"]",value:r.value,onChange:function(e){return n(e,t.id,"choice")},style:o},c)),"left"===t.justify?r.label:""))}):t.choices.map(function(e,r){var o=void 0!==e.attr.style?e.attr.style:{},l=void 0!==e.attr.class?e.attr.class+" form-check-input":"form-check-input",c=e.attr?e.attr:{};return t.value.includes(e.value)?c.checked=!0:c.checked=!1,a.a.createElement("div",{className:"form-check align-self-center "+("right"===t.justify?"form-check-right":"form-check-left"),key:t.id+"_"+r+(c.checked?"_ON":"_OFF")},a.a.createElement("label",{className:"form-check-label",htmlFor:t.id+"_"+r},"right"===t.justify?e.label:"",a.a.createElement("input",D({className:l,type:"checkbox",id:t.id+"_"+r,name:t.full_name+"["+r+"]",value:e.value,onChange:function(e){return n(e,t.id,"choice")},style:o},c)),"left"===t.justify?e.label:""))}),a.a.createElement("div",{className:"right"===t.justify?"text-right":"text-left"},o)}function R(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function J(e){var t=e.form,n=e.style,r=e.elementChange,o=e.getElementData,l=W(e,["form","style","elementChange","getElementData"]),c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){A(e,t,n[t])})}return e}({},t),i=c.block_prefixes.slice(0).reverse(),u=i.find(function(e){if(function(e){switch(e){case"hillrange_colour":case"hillrange_toggle":case"hidden":case"choice":case"time":case"text":return!0;default:return!1}}(e))return e});switch(u&&!/^\s*$/.test(u)||(console.error("No element type found"),console.log(i)),c.errors.length>0?c.attr.class=void 0!==c.attr.class?c.attr.class.replace(" has-error","").replace("has-error","")+" has-error":"has-error":c.attr.class=void 0!==c.attr.class?c.attr.class.replace(" has-error","").replace("has-error",""):"",u){case"hillrange_colour":return"widget"===n?s("color"):F(s("color"),{},c);case"hillrange_toggle":return a.a.createElement(B,T({},l,{element:c,style:n,value:o(c.id)}));case"hidden":return s("hidden");case"choice":return"widget"===n?d():F(d(),{},c);case"text":return"widget"===n?s():F(s("text"),{},c);case"time":return"widget"===n?m():F(m(),{},c);default:return"widget"===n?f():F(f(),{},c)}function s(e){return a.a.createElement(h.a,{type:e,id:c.id,value:o(c.id),placeholder:"Enter text",className:"string"==typeof c.attr.class?c.attr.class:void 0,name:c.full_name,onChange:function(e){return r(e,c.id,"text")}})}function f(){return a.a.createElement(h.a,{type:"text",value:c.value,placeholder:"Enter text",onChange:function(e){return r(e,c.id,"form")},className:"string"==typeof c.attr.class?c.attr.class:void 0})}function m(){var e=c.children[0],t=void 0;c.with_minutes&&(t=c.children[1]);var n=void 0;return c.with_seconds&&(n=c.children[2]),a.a.createElement("div",{id:c.id,onChange:function(e){return r(e,c.id,"time")},autoComplete:"off",className:"form-inline"+(void 0===c.attr.class?"":" "+c.attr.class)},a.a.createElement(h.a,{componentClass:"select",id:e.id,value:o(e.id),className:"string"==typeof c.attr.class?c.attr.class:void 0,"time-type":"hour",onChange:function(e){return r(e,"ignore_me")}},e.choices.map(function(e,t){return a.a.createElement("option",{key:t,value:e.value},e.label)})),c.with_minutes?a.a.createElement("div",null,":",a.a.createElement(h.a,{componentClass:"select",id:t.id,value:o(t.id),"time-type":"minute",className:"string"==typeof c.attr.class?c.attr.class:void 0,onChange:function(e){return r(e,"ignore_me")}},t.choices.map(function(e,t){return a.a.createElement("option",{key:t,value:e.value},e.label)})),c.with_seconds?a.a.createElement("div",null,":",a.a.createElement(h.a,{componentClass:"select",id:n.id,value:o(n.id),"time-type":"second",className:"string"==typeof c.attr.class?c.attr.class:void 0,onChange:function(e){return r(e,"ignore_me")}},n.choices.map(function(e,t){return a.a.createElement("option",{key:t,value:e.value},e.label)}))):""," "):"")}function p(e){var t=[];c.placeholder&&!/^\s*$/.test(c.placeholder)&&(t=[a.a.createElement("option",{key:"placeholder",value:""},c.placeholder)]);var n=[];return n="object"===$(c.choices)?Object.keys(c.choices).map(function(t){var n=c.choices[t];return e?a.a.createElement("option",{key:t,value:n.value,onClick:function(e){return r(e,c.id,"choice")}},n.label):a.a.createElement("option",{key:t,value:n.value},n.label)}):c.choices.map(function(t,n){return e?a.a.createElement("option",{key:n,value:t.value,onClick:function(e){return r(e,c.id,"choice")}},t.label):a.a.createElement("option",{key:n,value:t.value},t.label)}),R(t).concat(R(n))}function d(){return!0===c.multiple?c.expanded?a.a.createElement(U,T({},l,{element:c,elementChange:r})):a.a.createElement(h.a,{componentClass:"select",value:o(c.id),multiple:!0,className:"string"==typeof c.attr.class?c.attr.class:void 0,onChange:function(e){return r(e,"ignore_me","choice")}},p(!0)):a.a.createElement(h.a,{componentClass:"select",value:o(c.id),multiple:!1,className:"string"==typeof c.attr.class?c.attr.class:void 0,onChange:function(e){return r(e,c.id,"choice")}},p(!1))}}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Z(e){var t=e.style,n=e.name,r=e.form,o=z(e,["style","name","form"]),l=r.children.find(function(e){if(e.name===n)return e});return a.a.createElement(J,q({form:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){K(e,t,n[t])})}return e}({},l),style:t},o))}var Y=n("02nf"),G=n("ZL2u"),V=n("LBN+");function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e){var t=e.button,n=e.buttonHandler,r={};!1===t.class||void 0===t.class?r.className="btn btn-"+t.colour:r.className=t.class;return""===t.mergeClass||!1!==t.class&&void 0!==t.class||(r.className=r.className+" "+t.mergeClass),"object"===Q(t.style)&&(r.style=t.style),""!==t.type&&void 0!==t.type&&["button","submit"].includes(t.type)?r.type=t.type:r.type="button","object"===Q(t.options)&&(r.options=t.options),"string"==typeof t.title&&(r.title=t.title),"function"==typeof n&&(r.onClick=function(e){return n(t,e)}),"object"===Q(t.attr)&&(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){X(e,t,n[t])})}return e}({},r,t.attr)),void 0!==t.disabled&&!0===t.disabled&&(r.disabled=!0),"transparent"===t.colour?(delete r.className,delete r.type,c.a.createElement("i",r,t.prompt?t.prompt:null,t.icon?c.a.createElement(u.a,{icon:t.icon,fixedWidth:!0}):null)):c.a.createElement("button",r,t.prompt?t.prompt:null,t.icon?c.a.createElement(u.a,{icon:t.icon,fixedWidth:!0}):null)}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function re(e){var t=e.button,n=e.deleteButtonHandler,r=ne(e,["button","deleteButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="warning"),!1!==t.icon&&void 0!==t.icon||(t.icon=["far","trash-alt"]),c.a.createElement(ee,te({button:t,buttonHandler:n},r))}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function le(e){var t=e.button,n=e.editButtonHandler,r=oe(e,["button","editButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="info"),!1!==t.icon&&void 0!==t.icon||(t.icon=["far","edit"]),c.a.createElement(ee,ae({button:t,buttonHandler:n},r))}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ue(e){var t=e.button,n=e.miscButtonHandler,r=ie(e,["button","miscButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="light"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","atom"]),c.a.createElement(ee,ce({button:t,buttonHandler:n},r))}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function me(e){var t=e.button,n=e.addButtonHandler,r=fe(e,["button","addButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="info"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","plus-circle"]),c.a.createElement(ee,se({button:t,buttonHandler:n},r))}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ye(e){var t=e.button,n=e.refreshButtonHandler,r=de(e,["button","refreshButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="warning"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","redo"]),c.a.createElement(ee,pe({},r,{button:t,buttonHandler:n}))}function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function he(e){var t=e.button,n=e.returnButtonHandler,r=ve(e,["button","returnButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="primary"),!1!==t.icon&&void 0!==t.icon||(t.icon=["far","hand-point-left"]),c.a.createElement(ee,be({button:t,buttonHandler:n},r))}function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function je(e){var t=e.button,n=e.closeButtonHandler,r=Oe(e,["button","closeButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="primary"),!1!==t.icon&&void 0!==t.icon||(t.icon=["far","times-circle"]),c.a.createElement(ee,ge({button:t,buttonHandler:n},r))}function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _e(e){var t=e.button,n=e.saveButtonHandler,r=Ee(e,["button","saveButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="success"),""!==t.type&&void 0!==t.type||(t.type="button"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","download"]),c.a.createElement(ee,we({button:t,buttonHandler:n},r))}function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Se(e){var t=e.button,n=e.submitButtonHandler,r=Pe(e,["button","submitButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="success"),""!==t.type&&void 0!==t.type||(t.type="submit"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","download"]),c.a.createElement(ee,ke({button:t,submitButtonHandler:n},r))}function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function He(e){var t=e.button,n=e.upButtonHandler,r=xe(e,["button","upButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="light"),!1!==t.icon&&void 0!==t.icon||(t.icon=V.a),c.a.createElement(ee,Be({button:t,upButtonHandler:n},r))}function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ie(e){var t=e.button,n=e.downButtonHandler,r=Ne(e,["button","downButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="light"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","arrow-down"]),c.a.createElement(ee,Ce({button:t,buttonHandler:n},r))}function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Me(e){var t=e.button,n=e.duplicateButtonHandler,r=De(e,["button","duplicateButtonHandler"]);return""!==t.colour&&void 0!==t.colour||(t.colour="light"),!1!==t.icon&&void 0!==t.icon||(t.icon=["fas","clone"]),c.a.createElement(ee,Fe({button:t,buttonHandler:n},r))}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $e(e){var t=e.button,n=Re(e,["button"]);if(!1===t.display)return"";var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ue(e,t,n[t])})}return e}({},t);return r.buttonType=t.type,void 0===r.mergeClass&&(r.mergeClass=""),"edit"===r.type?c.a.createElement(le,Le({},n,{button:r})):"save"===r.type?c.a.createElement(_e,Le({},n,{button:r})):"submit"===r.type?c.a.createElement(Se,Le({},n,{button:r})):"delete"===r.type?c.a.createElement(re,Le({},n,{button:r})):"add"===r.type?c.a.createElement(me,Le({button:r},n)):"return"===r.type?c.a.createElement(he,Le({},n,{button:r})):"refresh"===r.type?c.a.createElement(ye,Le({button:r},n)):"close"===r.type?c.a.createElement(je,Le({},n,{button:r})):"up"===r.type?c.a.createElement(He,Le({},n,{button:r})):"down"===r.type?c.a.createElement(Ie,Le({},n,{button:r})):"duplicate"===r.type?c.a.createElement(Me,Le({button:r},n)):c.a.createElement(ue,Le({},n,{button:r}))}Y.b.add(V.b,s.b,G.a);var Te=n("76ZC"),Ae=n.n(Te);function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Je(e,t,n[t])})}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ze(e){var t=e.template,n=e.allow_up,r=e.allow_down,o=e.allow_delete,l=e.allow_duplicate,c=e.first,i=e.last,u=e.form,s=e.collection_buttons,f=e.default_buttons,m=e.callUrl,p=Ke(e,["template","allow_up","allow_down","allow_delete","allow_duplicate","first","last","form","collection_buttons","default_buttons","callUrl"]);if(!1!==t.container)return a.a.createElement("div",{className:"string"==typeof t.class?t.class:void 0},a.a.createElement(yt,qe({},p,{template:t.container,callUrl:m,form:u})));if(!1!==t.rows)return a.a.createElement("div",{className:t.class},a.a.createElement(Qe,qe({},p,{template:t.rows,form:u,callUrl:m})));var d=[];if(!1!==t.buttons&&(d=Object.keys(t.buttons).map(function(e){return a.a.createElement($e,qe({},p,{key:e,button:We({},t.buttons[e])}))})),!1!==t.collection_actions){var y={};o&&(y=We({},f.delete),void 0!==s.delete&&(y=We({},s.delete)),y.row=u,d.unshift(v(y,"delete"))),l&&(y=We({},f.duplicate),void 0!==s.duplicate&&(y=We({},s.duplicate)),d.unshift(v(y,"duplicate"))),r&&i!==u.name&&(y=We({},f.down),void 0!==s.down&&(y=We({},s.down)),d.unshift(v(y,"down"))),n&&c!==u.name&&(y=We({},f.up),void 0!==s.up&&(y=We({},s.up)),d.unshift(v(y,"up")))}if(!1!==t.form){var b=Object.keys(t.form).map(function(e){var n=t.form[e];return a.a.createElement(Z,qe({},p,{style:n,name:e,key:e,form:We({},u),template:t,callUrl:m}))});return a.a.createElement("div",{className:"string"==typeof t.class?t.class:void 0},b,d)}function v(e,t){return a.a.createElement($e,qe({},p,{button:e,key:t}))}"string"!=typeof t.label&&(t.label="");var h={};return!1!==t.style&&(h.style=We({},t.style)),!1!==t.onClick&&(h.onClick=function(e){return m(e,t.onClick)}),"string"==typeof t.class&&(h.className=t.class),a.a.createElement("div",h,Ae()(t.label),a.a.createElement("span",null,d))}function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ye(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ge(e){var t=e.template,n=Ye(e,["template"]);if(!1===t)return"";var r=t.columns.map(function(e,t){return a.a.createElement(ze,Ze({},n,{key:t,template:e}))});return a.a.createElement("div",{className:t.class},r)}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qe(e){var t=e.template,n=Xe(e,["template"]);return!1===t?"":t.map(function(e,t){return a.a.createElement(Ge,Ve({},n,{template:e,key:t}))})}ze.defaultProps={allow_delete:!1,allow_up:!1,allow_down:!1,allow_duplicate:!1,collection_buttons:{}};var et=n("zsrT"),tt=n.n(et);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){at(e,t,n[t])})}return e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ct(e){var t=e.form,n=e.template,r=e.getFormElementById,o=lt(e,["form","template","getFormElementById"]),l=function(e){if("object"!==nt(n.sortBy))return e;if(0===e.children.length)return e;var t=Object.keys(n.sortBy).map(function(e){return{name:e,orderBy:"DESC"===n.sortBy[e].toUpperCase()?-1:1}}),r=t.length;if(r<1)return e;if(1===r)return e.children.sort(tt()(function(e,n){return m(t[0].name,e,n)},t[0].orderBy)),e;if(2===r)return e.children.sort(tt()(function(e,n){return m(t[0].name,e,n)},t[0].orderBy).thenBy(function(e,n){return m(t[1].name,e,n)},t[1].orderBy)),e;return e.children.sort(tt()(function(e,n){return m(t[0].name,e,n)},t[0].orderBy).thenBy(function(e,n){return m(t[1].name,e,n)},t[1].orderBy).thenBy(function(e,n){return m(t[2].name,e,n)},t[2].orderBy)),e}(r(t.id)),c=l.children,i=null;Object.keys(c).map(function(e){var t=c[e];i=t.name});var u={addButtonHandler:o.addButtonHandler,deleteButtonHandler:o.deleteButtonHandler,allow_add:l.allow_add,allow_delete:l.allow_delete,allow_up:l.allow_up,allow_down:l.allow_down,allow_duplicate:l.allow_duplicate,collection_buttons:n.buttons,first:void 0!==c[0]?c[0].name:null,last:i,collection_name:l.name,default_buttons:{add:{type:"add",style:{float:"right"},options:{eid:"id"}},delete:{type:"delete",style:{},options:{eid:"id"}},up:{type:"up",style:{},options:{eid:"id"}},down:{type:"down",style:{},options:{eid:"id"}},duplicate:{type:"duplicate",style:{},options:{eid:"id"}}}},s=Object.keys(c).map(function(e){var t=c[e];return a.a.createElement(Qe,ot({},o,u,{key:e,form:t,template:n.rows}))}),f=a.a.createElement(Ge,ot({template:n.headerRow,form:t},o));function m(e,t,n){var r=t.children.find(function(t){if(t.name===e)return t}),a=n.children.find(function(t){if(t.name===e)return t});if("object"===nt(r.data)){if(r.data&&void 0!==r.data.date)return r.data.date>a.data.date?1:-1;if(null===r.data)return 1;console.error("what type of object is this to sort!"),console.log(r.data)}return console.log(r.data<a.data),console.log(e,r.data,a.data),r.data>a.data?1:-1}return a.a.createElement("div",{id:l.id,autoComplete:"off"},f,s,function(){if(l.allow_add){var e=rt({},u.default_buttons.add);return void 0!==n.buttons.add&&(e=rt({},n.buttons.add)),e=Object.assign({id:l.id+"_add"},rt({},e)),a.a.createElement($e,ot({},o,{button:e,addButtonHandler:o.addButtonHandler}))}return""}(),a.a.createElement("hr",null))}function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ut(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function st(e){var t=e.template,n=ut(e,["template"]);var r=["dark","success","primary","info","danger","secondary"].includes(t.colour)?t.colour+" text-white":t.colour+" text-dark",o="";if(!1!==t.collection){var l=n.form,c=l.children.find(function(e){if(e.name===t.collection.form)return e});o=a.a.createElement("div",{className:"card-body"},a.a.createElement(Ge,it({},n,{template:t.headerRow,form:l})),a.a.createElement(ct,it({},n,{template:t.collection,collectionName:t.form,form:c})))}else o=a.a.createElement("div",{className:"card-body"},a.a.createElement(Ge,it({},n,{template:t.headerRow})),a.a.createElement(Qe,it({},n,{template:t.rows})));return a.a.createElement("div",{className:"card card-panel"},a.a.createElement("div",{className:"card-header bg-"+r},!1===t.buttons?a.a.createElement("h3",{className:"card-title d-flex mb-12 justify-content-between"},t.label):a.a.createElement("h3",{className:"card-title d-flex mb-12 justify-content-between"},a.a.createElement("span",{className:"p-6"},t.label),a.a.createElement("span",{className:"p-6"},t.buttons.map(function(e,t){return a.a.createElement($e,it({button:e,key:t},n))}))),a.a.createElement("p",null,t.description)),o)}function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pt(e,t,n[t])})}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yt(e){var t=e.template,n=e.form,r=dt(e,["template","form"]);if(!1===t)return"";if(!1!==t.panel)return a.a.createElement(st,ft({},r,{template:t.panel,form:mt({},n)}));if(!1!==t.collection){var o=n.children.find(function(e){if(e.name===t.collection.form)return e});return a.a.createElement("div",{className:t.class},a.a.createElement(Ge,ft({},r,{template:t.headerRow,form:mt({},n)})),a.a.createElement(ct,ft({},r,{template:t.collection,collectionName:t.form,form:mt({},o)})))}return a.a.createElement("div",{className:t.class},a.a.createElement(Ge,ft({},r,{template:t.headerRow,form:mt({},n)})),a.a.createElement(Qe,ft({},r,{template:t.rows,form:mt({},n)})))}function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ht(e){var t=e.template,n=vt(e,["template"]),r=Object.keys(t).map(function(e){var n=t[e],r=!n.display;return a.a.createElement(v.a,{key:e,disabled:r},n.label)}),o=Object.keys(t).map(function(e){var r=t[e];return a.a.createElement(v.c,{key:e},r.display?a.a.createElement(yt,bt({},n,{template:r.container})):a.a.createElement("div",null,"Empty Tab"))});return a.a.createElement(v.d,{defaultIndex:t.selectedTab},a.a.createElement(v.b,null,r),o)}function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ot(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function jt(e){var t=e.template,n=Ot(e,["template"]);return!1!==t.container?a.a.createElement("div",{className:"container"},a.a.createElement(b,n),a.a.createElement(yt,gt({},n,{template:t.container}))):a.a.createElement("div",{className:"container"},a.a.createElement(b,n),a.a.createElement(ht,gt({},n,{template:t.tabs})))}function wt(e){return e.errors=[],e.constraints.map(function(t){switch(t.class){case"NotBlank":e=function(e,t){if(e.block_prefixes.includes("time")){var n=!1;return e.children.map(function(r){"string"!=typeof r.value&&(n||(n=!0,e.errors.push(t.message)))}),e}var r=e.value;r&&!/^\s*$/.test(r)||e.errors.push(t.message);return e}(e,t);break;case"Length":e=function(e,t){var n=e.value;if(!n||/^\s*$/.test(n))return e;null!==t.min&&n.length<t.min&&e.errors.push(t.minMessage);null!==t.max&&n.length>t.max&&e.errors.push(t.maxMessage);null!==t.max&&t.max===t.min&&n.length!==t.max&&e.errors.push(t.exactMessage);return e}(e,t);break;case"Choice":e=function(e,t){var n=e.value;if(!n||/^\s*$/.test(n))return e;!0===t.multiple&&null!==t.min&&n.length<t.min&&e.errors.push(t.minMessage);!0===t.multiple&&null!==t.max&&n.length>t.max&&e.errors.push(t.maxMessage);!1!==t.multiple||t.choices.includes(n)||e.errors.push(t.message);if(!0===t.multiple){var r=!0;n.map(function(e,n){t.choices.includes(e)||(r=!1)}),r||e.errors.push(t.multipleMessage)}return e}(e,t);break;case"Colour":e=function(e,t){var n=e.value;if(!n||/^\s*$/.test(n))return e;/^#[0-9A-F]{6}$/i.test(n)||e.errors.push(t.message);return e}(e,t);break;default:console.log(e,t)}}),e}function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t,n){switch(n){case"time":t=function(e,t){var n=e.target.getAttribute("time-type"),r=e.target.value;"object"===Et(t.value)&&null!==t.value||(t.value={hour:"0",minute:"0",second:"0"});"object"===Et(t.data)&&null!==t.data||(t.data={date:"1970-01-01 00:00:00.000000",timezone_type:3,timezone:"UTC"});switch(n){case"hour":t.value.hour=r,t.data.date=t.data.date.substr(0,11)+r.padStart(2,"0")+t.data.date.substr(-13),t.children[0].value=r,t.children[0].data=r,t.with_minutes&&"object"===Et(t.children[1].value)&&(t.children[1].value="0",t.children[1].data="0",t.value.minute="0"),t.with_seconds&&"object"===Et(t.children[2].value)&&(t.children[2].value="0",t.children[2].data="0",t.value.second="0");break;case"minute":t.value.minute=r,t.data.date=t.data.date.substr(0,14)+r.padStart(2,"0")+t.data.date.substr(-10),t.children[1].value=r,t.children[1].data=r,"object"===Et(t.children[0].value)&&(t.children[0].value="0",t.children[0].date="0",t.value.hour="0"),t.with_seconds&&"object"===Et(t.children[2].value)&&(t.children[2].value="0",t.children[2].data="0",t.value.second="0");break;case"second":t.value.second=r,t.data.date=t.data.date.substr(0,17)+r.padStart(2,"0")+t.data.date.substr(-7),t.children[2].value=r,t.children[2].data=r,"object"===Et(t.children[0].value)&&(t.children[0].value="0",t.children[0].data="0",t.value.hour="0"),"object"===Et(t.children[1].value)&&(t.children[1].value="0",t.children[1].data="0",t.value.minute="0");break;default:console.error("Handling time is difficult! "+n)}return t}(e,t);break;case"text":t=function(e,t){var n=e.target.value;return t.value=n,t.data=n,t}(e,t);break;case"choice":t=function(e,t){if(!0===t.multiple){var n=t.value,r=e.target.value;if(n.includes(r)){var a=n.indexOf(r);n.splice(a,1)}else n.push(r);return t.value=n,t}var o=e.target.value;return t.value=o,t.data=o,t}(e,t);break;default:console.error("How do I handle the type === "+n),console.log(e,t)}return t=wt(t)}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pt(e,t,n[t])})}return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e,t,n){var r={};t&&t.headers&&(r=t.headers,delete t.headers),r=kt({},r,{"Content-Type":"application/json; charset=utf-8"}),null===n&&(n="en"),!1!==n&&""!==e||(n="");var a=window.location.protocol+"//"+window.location.hostname+"/";return fetch(a+n+e,kt({},t,{credentials:"same-origin",headers:r})).then(Bt).then(function(e){return e.text().then(function(e){return e?JSON.parse(e):""})})}function Bt(e){if(e.status>=200&&e.status<400)return e;var t=new Error(e.statusText);throw t.response=e,t}function xt(e,t,n){var r="_self";t&&"string"==typeof t.target&&(r=t.target);var a="";t&&"string"==typeof t.specs&&(a=t.specs),"boolean"==typeof n&&!1===n&&(n=""),null==n&&(n="en"),""!==n&&(n="/"+n),window.open(window.location.protocol+"//"+window.location.hostname+n+e,r,a)}function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){It(e,t,n[t])})}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ut=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=Dt(t).call(this,e))||"object"!==Ct(a)&&"function"!=typeof a?Lt(r):a).form=e.form,n.template=e.template,n.translations=e.translations,n.locale=e.locale,n.otherProps=Nt({},e),delete n.otherProps.form,delete n.otherProps.template,delete n.otherProps.translations,delete n.otherProps.locale,n.messages=[],n.form.errors&&!/^\s*$/.test(n.form.errors)&&(n.messages=n.form.errors.map(function(e){return{level:"danger",message:e}})),n.data={},n.state={messages:n.messages,form:n.form,template:n.template},n.elementChange=n.elementChange.bind(Lt(Lt(n))),n.elementClick=n.elementClick.bind(Lt(Lt(n))),n.deleteButtonHandler=n.deleteButtonHandler.bind(Lt(Lt(n))),n.addButtonHandler=n.addButtonHandler.bind(Lt(Lt(n))),n.closeButtonHandler=n.closeButtonHandler.bind(Lt(Lt(n))),n.saveButtonHandler=n.saveButtonHandler.bind(Lt(Lt(n))),n.getElementData=n.getElementData.bind(Lt(Lt(n))),n.getElementId=n.getElementId.bind(Lt(Lt(n))),n.cancelMessage=n.cancelMessage.bind(Lt(Lt(n))),n.getFormElementById=n.getFormElementById.bind(Lt(Lt(n))),n.returnButtonHandler=n.returnButtonHandler.bind(Lt(Lt(n))),n.miscButtonHandler=n.miscButtonHandler.bind(Lt(Lt(n))),n.callUrl=n.callUrl.bind(Lt(Lt(n))),n.formControl={translations:n.translations,elementChange:n.elementChange,elementClick:n.elementClick,getElementData:n.getElementData,deleteButtonHandler:n.deleteButtonHandler,closeButtonHandler:n.closeButtonHandler,addButtonHandler:n.addButtonHandler,saveButtonHandler:n.saveButtonHandler,cancelMessage:n.cancelMessage,getFormElementById:n.getFormElementById,returnButtonHandler:n.returnButtonHandler,miscButtonHandler:n.miscButtonHandler,getElementId:n.getElementId,callUrl:n.callUrl},n.elementList={},n}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(t,r["Component"]),n=t,(o=[{key:"callUrl",value:function(e,t){this.handleURLCall(t.url,t.url_options,t.url_type,{})}},{key:"miscButtonHandler",value:function(e,t){t.stopPropagation(),this.handleURLCall(e.url,e.url_options,e.url_type,{})}},{key:"elementChange",value:function(e,t,n){var r=this;if("ignore_me"!==t){var a=this.getFormElementById(t);void 0!==(a=_t(e,a,n)).attr.onChange&&this.followUrl(a.attr.onChange,a),a.errors.length>0?a.errors.map(function(e){r.setMessageByName(a.id,(a.label?a.label:a.name)+NaN+(a.value&&!/^\s*$/.test(a.value)?JSON.stringify(a.value):"{empty}")+"): "+e)}):this.cancelMessageByName(a.id),this.setFormElement(a,this.form),this.setState({messages:this.messages,form:this.form,template:this.template})}}},{key:"elementClick",value:function(e,t,n){if("ignore_me"!==t){var r=this.getFormElementById(t);r=_t(e,r,n),this.setFormElement(r,this.form),this.setState({messages:this.messages,template:this.template,form:this.form})}}},{key:"deleteButtonHandler",value:function(e){var t=this,n=e.url;if(n&&!/^\s*$/.test(n)&&this.handleURLCall(n,e.url_options,e.url_type,e.row))return;var r=e.row,a=parseInt(r.name),o=r.id.replace("_"+a,""),l=this.getFormElementById(o,this.form),c=Nt({},l.prototype),i=0,u=[];"object"===Ct(l.children)?Object.keys(l.children).map(function(e){if(parseInt(e)!==parseInt(a)){var n=Nt({},l.children[e]),r={};r.id=n.id,r.full_name=n.full_name,r.name=n.name;var o={};o.id=c.id.replace("__name__",i),o.full_name=c.full_name.replace("__name__",i),n.name=c.name.replace("__name__",i),n.full_name=c.full_name.replace("__name__",i),n.id=c.id.replace("__name__",i),n.name=i.toString(),n.label=c.label.replace("__name__",i),n=t.updateCollectionDetails(n,r,o),u[i++]=n}}):l.children.map(function(e,n){if(parseInt(n)!==parseInt(a)){var r={};r.id=e.id,r.full_name=e.full_name,r.name=e.name;var o={};o.id=c.id.replace("__name__",i),o.full_name=c.full_name.replace("__name__",i),e.name=c.name.replace("__name__",i),e.full_name=c.full_name.replace("__name__",i),e.id=c.id.replace("__name__",i),e.name=i.toString(),e.label=c.label.replace("__name__",i),e=t.updateCollectionDetails(e,r,o),u[i++]=e}}),this.elementList={},l.children=u,this.setFormElement(l,this.form),this.setState({form:this.form,messages:this.messages,template:this.template})}},{key:"followUrl",value:function(e,t){var n=e.url,r=e.url_options&&"object"===Ct(e.url_options)?e.url_options:{},a=e.url_type&&"string"==typeof e.url_type?e.url_type:"redirect";this.handleURLCall(n,r,a,t)}},{key:"handleURLCall",value:function(e,t,n,r){var a=this;"object"!==Ct(t)&&(t={});var o=!0;return Object.keys(t).map(function(n){var a=r[t[n]];"{id}"!==n||a&&!/^\s*$/.test(a)||(a="Add"),e=e.replace(n,a),null==a&&(o=!1)}),!!o&&("redirect"===n?xt(e,{method:"GET"},this.locale):St(e,{method:"GET"},this.locale).then(function(e){a.elementList={},a.messages=a.messages.concat(e.messages),a.form=e.form,e.template&&!/^\s*$/.test(e.template)&&(a.template=e.template),a.setState({form:a.form,messages:a.messages,template:a.template})}).catch(function(e){console.error("Error: ",e),a.messages.push({level:"danger",message:e}),a.setState({form:a.form,messages:a.messages,template:a.template})}),!0)}},{key:"updateCollectionDetails",value:function(e,t,n){var r=this;return e.children.map(function(e){e.full_name=e.full_name.replace(t.full_name,n.full_name),e.id=e.id.replace(t.id,n.id),r.updateCollectionDetails(e,t,n)}),e}},{key:"addButtonHandler",value:function(e){var t=e.url;if(t&&!/^\s*$/.test(t))this.handleURLCall(t,e.url_options,e.url_type,{});else{var n=e.id.replace("_add",""),r=this.getFormElementById(n),a=r.children.length,o=Nt({},r.prototype);o=this.setCollectionMemberKey(o,a);var l=r.children;l[a]=o,r.children=l,this.setFormElement(r,this.form),this.setState({form:this.form,messages:this.messages,template:this.template})}}},{key:"getElementId",value:function(e){return e}},{key:"getFormElementById",value:function(e){return!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&(this.elementList={}),void 0===this.elementList[e]&&(this.elementList=this.buildElementList({},this.form)),this.elementList[e]}},{key:"buildElementList",value:function(e,t){var n=this;return e[t.id]=t,t.children.map(function(t){n.buildElementList(e,t)}),e}},{key:"setCollectionMemberKey",value:function(e,t){var n=this,r=Nt({},e);return r.children=e.children.map(function(e){return n.setCollectionMemberKey(e,t)}),r.full_name=r.full_name.replace("__name__",t),r.id=r.id.replace("__name__",t),r.name=r.name.replace("__name__",t),r.label=r.label.replace("__name__",t),r}},{key:"setFormElement",value:function(e,t){var n=this;if(e.id===t.id)return t=Nt({},e);t.children.map(function(t){n.setFormElement(e,t)})}},{key:"getElementData",value:function(e){var t=this.getFormElementById(e);return void 0===t||t.id!==e?(console.error("The element returned does not match the requested element named: "+e),console.log(this.form),""):(""!==t.value&&"undefined"!==t.value&&null!==t.value||t.value===t.data||(t.value=t.data,this.elementList[t.id]=t),t.block_prefixes.includes("choice")&&"object"===Ct(t.value)&&void 0===t.value.length&&null===t.placeholder&&void 0!==t.choices[0]&&(t.value=t.data=t.choices[0].value),void 0===t.value||null===t.value?"":t.value)}},{key:"buildFormData",value:function(e,t){var n=this;return t.children.length>0?(t.children.map(function(t){e[t.name]=n.buildFormData({},t),n.setMessageByElementErrors(t)}),e):(this.setMessageByElementErrors(t),t.value)}},{key:"returnButtonHandler",value:function(e){xt(e.url)}},{key:"closeButtonHandler",value:function(){window.close()}},{key:"isOKtoSave",value:function(){if(0===this.messages.length)return!0;var e=!0;return this.messages.map(function(t){["warning","danger"].includes(t.level)&&(e=!1)}),e}},{key:"saveButtonHandler",value:function(){var e=this;if(this.data=this.buildFormData({},this.form),this.isOKtoSave())this.messages=[],St(this.template.form.url,{method:this.template.form.method,body:JSON.stringify(this.data)},this.locale).then(function(t){e.elementList={},e.messages=e.messages.concat(t.messages),e.form=t.form,t.template&&!/^\s*$/.test(t.template)&&(e.template=t.template),e.setState({form:e.form,messages:e.messages,template:e.template})}).catch(function(t){console.error("Error: ",t),e.messages.push({level:"danger",message:t}),e.setState({form:e.form,messages:e.messages,template:e.template})});else{var t={level:"dark",message:i(this.translations,"All errors must be cleared before the form can be saved!")};this.messages.push(t),this.setState({form:this.form,messages:this.messages,template:this.template})}}},{key:"cancelMessage",value:function(e){this.messages.splice(e,1),this.setState({messages:this.messages,form:this.form,template:this.template})}},{key:"cancelMessageByName",value:function(e){var t=this;Object.keys(this.messages).map(function(n){var r=t.messages[n];void 0!==r&&void 0!==r.name&&r.name===e&&t.messages.splice(n,1)})}},{key:"setMessageByName",value:function(e,t){this.cancelMessageByName(e);var n={name:e,level:"danger",message:t};this.messages.push(n)}},{key:"setMessageByElementErrors",value:function(e){var t=this;(e=wt(e)).errors.map(function(n){t.setMessageByName(e.id,(e.label?e.label:e.name)+" ("+(e.value&&!/^\s*$/.test(e.value)?JSON.stringify(e.value):"{empty}")+"): "+n)})}},{key:"render",value:function(){return a.a.createElement(jt,Ht({},this.otherProps,this.formControl,{template:this.state.template,form:Nt({},this.state.form),messages:this.state.messages}))}}])&&Ft(n.prototype,o),l&&Ft(n,l),t}();Object(o.render)(a.a.createElement(Ut,window.FORM_PROPS),document.getElementById(window.FORM_PROPS.target_div))}},[["oYZW",1,2]]]);